{"version":3,"sources":["Services/MovieApi.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","Views/MoviesPage/MoviesPage.jsx"],"names":["BASE_URL","KEY","IMAGE_URL","fetchMovies","a","Axios","get","response","data","results","searchMovies","query","fetchMovieById","id","fetchMovieCast","cast","fetchMovieReviews","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","_arrayLikeToArray","arr","len","arr2","Array","_toConsumableArray","isArray","iter","Symbol","iterator","from","o","minLen","n","prototype","toString","call","slice","constructor","name","test","TypeError","MoviesPage","state","movies","searchQuery","handleChange","event","currentTarget","setState","handleSubmit","props","location","history","preventDefault","getMoviesByQuery","search","this","undefined","trim","alert","className","onSubmit","type","onChange","autoComplete","autoFocus","placeholder","map","title","poster_path","to","pathname","src","alt","Component"],"mappings":"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","file":"static/js/movie-page.3ff2d0e7.chunk.js","sourcesContent":["import Axios from 'axios';\r\n\r\nconst BASE_URL = 'https://api.themoviedb.org/3';\r\nconst KEY = '7e78d9d0b80a5a9938ce5aba09bf2c47';\r\n\r\nexport const IMAGE_URL = 'https://image.tmdb.org/t/p/w300';\r\n\r\nexport async function fetchMovies() {\r\n  const response = await Axios.get(\r\n    `${BASE_URL}/trending/all/day?api_key=${KEY}`,\r\n  );\r\n\r\n  return response.data.results;\r\n}\r\n\r\nexport async function searchMovies(query) {\r\n  const response = await Axios.get(\r\n    `${BASE_URL}/search/movie?api_key=${KEY}&query=${query}`,\r\n  );\r\n  return response.data.results;\r\n}\r\n\r\nexport async function fetchMovieById(id) {\r\n  const response = await Axios.get(`${BASE_URL}/movie/${id}?api_key=${KEY}`);\r\n  return response.data;\r\n};\r\n\r\nexport async function fetchMovieCast(id) {\r\n  const response = await Axios.get(\r\n    `${BASE_URL}/movie/${id}/credits?api_key=${KEY}`,\r\n  );\r\n  return response.data.cast;\r\n};\r\n\r\nexport async function fetchMovieReviews(id) {\r\n  const response = await Axios.get(\r\n    `${BASE_URL}/movie/${id}/reviews?api_key=${KEY}`,\r\n  );\r\n  return response.data.results;\r\n}\r\n","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import { Component } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport { IMAGE_URL, searchMovies } from '../../Services/MovieApi';\r\n\r\nimport './MoviesPage.scss';\r\nimport '../HomePage/HomePage.scss';\r\n\r\n\r\nclass MoviesPage extends Component {\r\n  state = {\r\n    movies: [],\r\n    searchQuery: '',\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { location } = this.props;\r\n\r\n    if (location?.state?.searchQuery !== undefined) {\r\n      this.getMoviesByQuery(location.state.searchQuery);\r\n    }\r\n    \r\n  }\r\n\r\n  async getMoviesByQuery(query) {\r\n    const response = await searchMovies(query);\r\n\r\n    if (query.trim() === '') {\r\n      alert('You need to write correct query to find');\r\n      return;\r\n    }\r\n\r\n    this.setState({\r\n      movies: [...response],\r\n    });\r\n  }\r\n\r\n  handleChange = event => {\r\n    const value = event.currentTarget.value;\r\n\r\n    this.setState({ searchQuery: value });\r\n  };\r\n\r\n  handleSubmit = event => {\r\n    const { searchQuery } = this.state;\r\n    const { location, history } = this.props;\r\n\r\n    event.preventDefault();\r\n\r\n    this.getMoviesByQuery(searchQuery);\r\n\r\n    history.push({\r\n      ...location,\r\n      search: `query=${searchQuery}`,\r\n      state: { searchQuery },\r\n    });\r\n  };\r\n\r\n  render() {\r\n    const { movies, query } = this.state;\r\n    const location = this.props.history.location;\r\n    return (\r\n      <>\r\n      <div className=\"movies-page-container\">\r\n        <form className=\"form\" onSubmit={this.handleSubmit}>\r\n          <input\r\n            className=\"form-input\"\r\n            type=\"text\"\r\n            value={query}\r\n            onChange={this.handleChange}\r\n            autoComplete=\"off\"\r\n            autoFocus\r\n            placeholder=\"Search movies...\"\r\n          />\r\n          <button className=\"form-btn\" type=\"submit\">\r\n            Search\r\n          </button>\r\n        </form>\r\n        <ul className=\"movie-list\">\r\n          {movies.map(({ id, name, title, poster_path }) => {\r\n            return (\r\n              <li key={id} className=\"movie-item\">\r\n                <NavLink to={{\r\n                pathname: `/movies/${id}`,\r\n                state: {\r\n                  from: location\r\n                }\r\n              }}>\r\n                  <div className=\"movie-card\">\r\n                    <img\r\n                      className=\"movie-img\"\r\n                      src={IMAGE_URL + poster_path}\r\n                      alt={title || name}\r\n                    />\r\n                    <div className=\"card-body\">\r\n                      <p className=\"card-title\">{title || name}</p>\r\n                    </div>\r\n                  </div>\r\n                </NavLink>\r\n              </li>\r\n            );\r\n          })}\r\n        </ul>\r\n      </div>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default MoviesPage;\r\n"],"sourceRoot":""}